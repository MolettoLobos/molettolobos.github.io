:root {
  --primary: #2c3e50;
  --accent: #3498db;
  --bg: #f5f7fa;
  --text: #2c2c2c;
  --card-bg: #ffffff;
  --shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  --radius: 12px;
}

/* ===== BASE ===== */
body {
  font-family: 'Inter', sans-serif;
  background: var(--bg);
  color: var(--text);
  margin: 0;
}

h2 {
  font-size: 1.8em;
  border-left: 5px solid var(--accent);
  padding-left: 15px;
  margin: 0 0 25px;
  color: var(--primary);
}

a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

ul { padding-left: 20px; }
ul li { margin-bottom: 6px; }

/* ===== HEADER ===== */
.header-wrapper {
  position: relative;
  text-align: center;
  padding: 60px 20px 100px;
  color: white;
  background:
    linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.6)),
    url('images/header-footer-bg.png') center/cover no-repeat;
}

header h1 { font-size: 2.8em; margin: 0 0 10px; }
header p { font-size: 1.2em; opacity: 0.85; }

.contact-info {
  margin-top: 25px;
  font-size: 0.95em;
}
.contact-info span, .contact-info a {
  margin: 0 12px;
  color: white;
}

/* Profile */
.profile-wrapper {
  position: absolute;
  bottom: -70px;
  left: 50%;
  transform: translateX(-50%);
}
.profile-pic {
  width: 140px; height: 140px;
  border-radius: 50%;
  border: 5px solid white;
  object-fit: cover;
  background: white;
  box-shadow: var(--shadow);
}

/* ===== CONTAINER ===== */
.container {
  max-width: 1000px;
  margin: 120px auto 0;
  padding: 40px 20px;
}
section { margin-bottom: 60px; }

.card {
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 25px 30px;
  margin-bottom: 25px;
}
.card h3 { margin: 0 0 6px; font-size: 1.25em; }

/* ===== BIG CARDS ===== */
.big-card { padding: 28px 32px; }
.big-card .block {
  padding: 16px 0;
  border-top: 1px solid #e8edf2;
  break-inside: avoid; page-break-inside: avoid;
}
.big-card .block:first-child { border-top: 0; padding-top: 0; }

.big-card .title { font-weight: 800; margin: 0 0 6px; }
.big-card .meta { color: #555; margin: 0 0 6px; }
.big-card .date { color: #777; font-size: .9em; margin-bottom: 8px; }
.big-card ul { margin: 6px 0 0 18px; }

/* ===== PROJECTS (one toggle) ===== */
.big-projects-card { padding: 22px 28px; }
.projects-details > summary {
  list-style: none;
  cursor: pointer;
  font-weight: 700;
  display: flex;
  gap: 6px;
  margin-bottom: 12px;
}
.projects-summary-hint { font-weight: 400; color: #666; font-size: .9em; }
.projects-details[open] .projects-summary-hint { display: none; }
.project-block { padding: 14px 0; border-top: 1px solid #e8edf2; }
.project-block:first-child { border-top: 0; }
.project-title { font-weight: 700; margin: 0 0 4px; }
.project-sub { font-size: .95em; color: #555; margin: 0 0 6px; }
.project-sub .date { color: #666; }

/* ===== FOOTER ===== */
footer {
  text-align: center;
  padding: 26px 0 32px;
  font-size: 0.9em;
  color: white;
  background:
    linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.6)),
    url('images/header-footer-bg.png') center/cover no-repeat;
}
footer .print-btn {
  background: white;
  color: var(--primary);
  border: none;
  border-radius: var(--radius);
  padding: 8px 16px;
  font-size: 0.95em;
  cursor: pointer;
  box-shadow: var(--shadow);
}
footer .print-btn:hover { background: var(--accent); color: white; }

/* ===== MOBILE ===== */
@media (max-width: 768px) {
  header h1 { font-size: 2em; }
  .contact-info span, .contact-info a { display: block; margin: 5px 0; }
  .profile-pic { width: 100px; height: 100px; }
  .container { margin-top: 100px; padding: 30px 15px; }
  footer { font-size: 0.8em; }
}

/* ===== PRINT (normal) ===== */
@media print {
  @page { size: A4; margin: 12mm; }

  html, body { background: #fff !important; }
  * { box-shadow: none !important; }

  /* Ocultar lo que no va al PDF */
  .header-wrapper, footer, .print-btn, .contact-info a { display: none !important; }

  /* Contenedor */
  .container {
    max-width: 820px !important;
    margin: 0 !important;
    padding: 0 !important;
    background: #fff !important;
  }

  /* Permitir cortes en contenedores grandes */
  section, .card {
    break-inside: auto !important;
    page-break-inside: auto !important;
  }

  /* Educación */
  .edu-block {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* Experience */
  .employer-block {
    break-inside: auto !important;
    page-break-inside: auto !important;
  }
  .role {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }
  .role .role-title, .role .date { break-after: avoid !important; }
  .role ul, .role li { break-inside: avoid !important; }

  /* Projects */
  .project-block {
    break-inside: auto !important;
    page-break-inside: auto !important;
  }
  .project-title, .project-sub { break-after: avoid !important; }
  .project-block ul, .project-block li { break-inside: avoid !important; }

  /* Anular avoid de bloques grandes en pantalla */
  .big-card .block {
    break-inside: auto !important;
    page-break-inside: auto !important;
    padding: 10px 0 !important;
  }

  /* Título de sección pegado a su primer bloque */
  section > h2 { break-after: avoid-page !important; }
  section > h2 + .card { break-inside: auto !important; }

  /* Márgenes compactos */
  section { margin: 10px 0 14px !important; }
  .card { border: none !important; padding: 14px 16px !important; margin-bottom: 10px !important; }
  h2 { margin: 0 0 8px !important; }
  ul { margin: 6px 0 0 18px !important; }
  ul li { margin: 3px 0 !important; }

  /* Huérfanos/viudas suaves */
  h2, h3, h4 { page-break-after: avoid; }
  p, li { orphans: 2; widows: 2; }

  /* Header compacto impresión */
  .profile-wrapper { display: none !important; }
  .print-header { display: block !important; text-align: center; margin-bottom: 8mm; }
  .print-avatar {
    display: block !important; width: 90px !important; height: 90px !important;
    border-radius: 50% !important; margin: 0 auto 8px !important; object-fit: cover !important;
  }
}

/* En pantalla, ocultamos header compacto */
@media screen {
  .print-avatar,
  .print-header {
    display: none;
  }
}

/* ====== AÑADIDOS PARA MODO SIMPLIFIED ====== */
/* Roles compactos (sin bullets) */
.role-slim { margin-bottom: 6px; }
.role-slim .role-title { margin: 0 0 2px; }
.role-slim .date { margin: 0; color: #666; }

/* Reglas de impresión exclusivas cuando body tiene la clase print-simplified */
@media print {
  /* Oculta el CV normal en modo simplified */
  body.print-simplified .header-wrapper,
  body.print-simplified footer,
  body.print-simplified .container:not(.simplified-container) {
    display: none !important;
  }

  /* Muestra solo el clon simplificado */
  body.print-simplified #pdf-simplified {
    display: block !important;
  }

  /* Oculta el print-header global (fuera del clon) para no duplicar */
  body.print-simplified > .print-header {
    display: none !important;
  }

  /* Asegura que el header compacto del clon se vea */
  body.print-simplified #pdf-simplified .print-header {
    display: block !important;
  }

  /* Ajustes del clon */
  body.print-simplified #pdf-simplified .container {
    max-width: 820px !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  body.print-simplified #pdf-simplified section { margin: 10px 0 14px !important; }
  body.print-simplified #pdf-simplified .card { border: none !important; padding: 14px 16px !important; margin-bottom: 10px !important; }
  body.print-simplified #pdf-simplified h2 { margin: 0 0 8px !important; }
}
